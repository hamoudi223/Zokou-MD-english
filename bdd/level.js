(function(_0x414bbe,_0x2da02a){const _0x2f0203=a11_0x11a4,_0x4c9539=_0x414bbe();while(!![]){try{const _0x4152b8=-parseInt(_0x2f0203(0xcf))/0x1*(-parseInt(_0x2f0203(0xd1))/0x2)+parseInt(_0x2f0203(0xd5))/0x3+parseInt(_0x2f0203(0xd6))/0x4*(-parseInt(_0x2f0203(0xcd))/0x5)+-parseInt(_0x2f0203(0xd7))/0x6*(parseInt(_0x2f0203(0xcc))/0x7)+-parseInt(_0x2f0203(0xd4))/0x8+-parseInt(_0x2f0203(0xd2))/0x9*(parseInt(_0x2f0203(0xc8))/0xa)+parseInt(_0x2f0203(0xe1))/0xb;if(_0x4152b8===_0x2da02a)break;else _0x4c9539['push'](_0x4c9539['shift']());}catch(_0xb3a4a0){_0x4c9539['push'](_0x4c9539['shift']());}}}(a11_0x1fa0,0x2512f));const a11_0x563b31=(function(){const _0x58a106={'dyIPK':'HyfWR'};let _0x2e3b8d=!![];return function(_0x46783b,_0x571df4){const _0x220b6f=_0x2e3b8d?function(){const _0x39870f=a11_0x11a4;if(_0x39870f(0xca)!==_0x58a106[_0x39870f(0xcb)]){if(_0x571df4){const _0x4fe2eb=_0x571df4[_0x39870f(0xdb)](_0x46783b,arguments);return _0x571df4=null,_0x4fe2eb;}}else{if(!_0x34e440)return;try{_0x4e7806[_0x39870f(0xd9)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')['run'](_0x3bd81d,_0x1f2d37,_0x378c88);}catch(_0x5e432c){throw _0x5e432c;}}}:function(){};return _0x2e3b8d=![],_0x220b6f;};}()),a11_0x259f70=a11_0x563b31(this,function(){const _0xbb5bdc=a11_0x11a4;return a11_0x259f70[_0xbb5bdc(0xd0)]()[_0xbb5bdc(0xd3)](_0xbb5bdc(0xce))['toString']()['constructor'](a11_0x259f70)[_0xbb5bdc(0xd3)](_0xbb5bdc(0xce));});a11_0x259f70();const openConnection=require('./_index'),db=openConnection(),createUsersRankTable=()=>{const _0x43397d=a11_0x11a4;try{db[_0x43397d(0xd9)](_0x43397d(0xc7))[_0x43397d(0xdf)]();}catch(_0x4c6368){console[_0x43397d(0xdc)]('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27users_rank\x27:',_0x4c6368[_0x43397d(0xda)]);throw _0x4c6368;}};createUsersRankTable();const ajouterOuMettreAJourUserData=(_0x849b18,_0xd9950f=0xa,_0x46eb98=0x1)=>{const _0x2f01f1=a11_0x11a4,_0xa82cb9={'gAVQj':function(_0x54a0a8,_0x473354){return _0x54a0a8!==_0x473354;},'iedDW':'SQhEn'};if(!_0x849b18)return;try{db['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x2f01f1(0xdf)](_0x849b18,_0xd9950f,_0x46eb98);}catch(_0x3be60e){if(_0xa82cb9['gAVQj'](_0xa82cb9[_0x2f01f1(0xdd)],'SQhEn'))_0x33ed84['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x2f01f1(0xdf)](_0xa76ec7,_0x1660b0,_0x37ba49);else throw _0x3be60e;}},getMessagesAndXPByJID=_0xbda8f9=>{const _0x1fd2d2=a11_0x11a4,_0x2aedda={'iPsGW':'Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20utilisateur:'};if(!_0xbda8f9)return{'messages':0x0,'xp':0x0};try{const _0x435c62=db[_0x1fd2d2(0xd9)](_0x1fd2d2(0xd8))[_0x1fd2d2(0xc9)](_0xbda8f9);return _0x435c62||{'messages':0x0,'xp':0x0};}catch(_0x130a8e){console['error'](_0x2aedda[_0x1fd2d2(0xe0)],_0x130a8e[_0x1fd2d2(0xda)]);throw _0x130a8e;}},getBottom10Users=()=>{const _0xb95183=a11_0x11a4;try{const _0x2fbcfe=db['prepare']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20jid,\x20xp,\x20messages\x0a\x20\x20\x20\x20\x20\x20FROM\x20users_rank\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20xp\x20DESC\x0a\x20\x20\x20\x20\x20\x20LIMIT\x2010;\x0a\x20\x20\x20\x20')['all']();return _0x2fbcfe;}catch(_0x5d3772){console[_0xb95183(0xdc)](_0xb95183(0xde),_0x5d3772[_0xb95183(0xda)]);throw _0x5d3772;}};function a11_0x1fa0(){const _0x3a7a89=['mZyYmZm2n0nREMHqsq','cIaGicaGiensrufursbuqujmrsbjrIbot1qGrvHju1rtihvZzxjZx3jHBMSGkaOGicaGicaGigLKieLovevhrviGufjjtufswsblrvKGqvvut0Loq1jftuvovcWkicaGicaGicbQAwqGvevyvcbvtKLrvuuScIaGicaGicaGEhaGsu5uruDfuIberuzbvuXuidaScIaGicaGicaGBwvZC2fNzxmGsu5uruDfuIberuzbvuXuidakicaGicaGktSkicaGia','nJmWC0XnC0Tt','z2v0','BLbIDLu','zhLjueS','mtq3rM5AsLfc','mJK1uwX0Duz2','kcGOlISPkYKRksSK','mtrWqLritgq','Dg9tDhjPBMC','mti4nZHUB0fxthy','mJu1nJLOAvbZtLC','C2vHCMnO','mta2odi0uxP1BwPM','nZm1nZq3DxLRBMHl','mtG5ndHhyKTHuKm','mte3ndHwDxDlBfq','cIaGicaGifnftevdvcbTzxnZywDLCYWGEhaGrLjptsb1C2vYC19Yyw5RifDirvjfigPPzca9id87cIaGica','ChjLCgfYzq','BwvZC2fNzq','yxbWBhK','zxjYB3i','AwvKrfC','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzhuGDg9WideWoG','CNvU','AvbZr1C'];a11_0x1fa0=function(){return _0x3a7a89;};return a11_0x1fa0();}function a11_0x11a4(_0x179756,_0x52aae4){const _0x5596d8=a11_0x1fa0();return a11_0x11a4=function(_0x259f70,_0x563b31){_0x259f70=_0x259f70-0xc7;let _0x1fa09b=_0x5596d8[_0x259f70];if(a11_0x11a4['oFerla']===undefined){var _0x11a499=function(_0x434789){const _0xe9a768='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1a1b1b='',_0x2e1ac2='',_0x356071=_0x1a1b1b+_0x11a499;for(let _0x59eafe=0x0,_0x58e140,_0x3ab987,_0x502485=0x0;_0x3ab987=_0x434789['charAt'](_0x502485++);~_0x3ab987&&(_0x58e140=_0x59eafe%0x4?_0x58e140*0x40+_0x3ab987:_0x3ab987,_0x59eafe++%0x4)?_0x1a1b1b+=_0x356071['charCodeAt'](_0x502485+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x58e140>>(-0x2*_0x59eafe&0x6)):_0x59eafe:0x0){_0x3ab987=_0xe9a768['indexOf'](_0x3ab987);}for(let _0x41cd46=0x0,_0x276137=_0x1a1b1b['length'];_0x41cd46<_0x276137;_0x41cd46++){_0x2e1ac2+='%'+('00'+_0x1a1b1b['charCodeAt'](_0x41cd46)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2e1ac2);};a11_0x11a4['bJMFgw']=_0x11a499,_0x179756=arguments,a11_0x11a4['oFerla']=!![];}const _0x109041=_0x5596d8[0x0],_0x5ae92d=_0x259f70+_0x109041,_0x16d8f6=_0x179756[_0x5ae92d];if(!_0x16d8f6){const _0x4458c4=function(_0x60949a){this['nrpPzr']=_0x60949a,this['UCRBBX']=[0x1,0x0,0x0],this['jKGotB']=function(){return'newState';},this['OccDZm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['etkWAt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4458c4['prototype']['SIOFHn']=function(){const _0x7ac478=new RegExp(this['OccDZm']+this['etkWAt']),_0xdbb2c5=_0x7ac478['test'](this['jKGotB']['toString']())?--this['UCRBBX'][0x1]:--this['UCRBBX'][0x0];return this['DlNZka'](_0xdbb2c5);},_0x4458c4['prototype']['DlNZka']=function(_0x3fa3bf){if(!Boolean(~_0x3fa3bf))return _0x3fa3bf;return this['ONJZLv'](this['nrpPzr']);},_0x4458c4['prototype']['ONJZLv']=function(_0x298169){for(let _0x59b462=0x0,_0x183faf=this['UCRBBX']['length'];_0x59b462<_0x183faf;_0x59b462++){this['UCRBBX']['push'](Math['round'](Math['random']())),_0x183faf=this['UCRBBX']['length'];}return _0x298169(this['UCRBBX'][0x0]);},new _0x4458c4(a11_0x11a4)['SIOFHn'](),_0x1fa09b=a11_0x11a4['bJMFgw'](_0x1fa09b),_0x179756[_0x5ae92d]=_0x1fa09b;}else _0x1fa09b=_0x16d8f6;return _0x1fa09b;},a11_0x11a4(_0x179756,_0x52aae4);}module['exports']={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};